<?xml version="1.0" encoding="UTF-8"?>
<service>
  <!-- 서비스 ID (Windows 서비스 레지스트리에 등록되는 이름) -->
  <id>jangbogo</id>
  
  <!-- 서비스 표시 이름 -->
  <name>Jangbogo Service</name>
  
  <!-- 서비스 설명 -->
  <description>장보고 구매내역 수집 서비스 - 온라인 쇼핑몰 구매 내역을 자동으로 수집합니다.</description>
  
  <!-- 실행 파일 경로 (번들된 JRE의 java.exe 사용) -->
  <executable>%BASE%\..\jre\bin\java.exe</executable>
  
  <!-- 실행 인자 (JVM 옵션 + JAR 파일) -->
  <arguments>-Xms256m -Xmx1024m -jar "%BASE%\..\jangbogo-0.5.4.jar"</arguments>
  
  <!-- 작업 디렉토리 -->
  <workingdirectory>%BASE%\..</workingdirectory>
  
  <!-- 시작 모드: Automatic (자동), Manual (수동), Disabled (비활성화) -->
  <startmode>Automatic</startmode>
  
  <!-- 로그 설정 -->
  <log mode="roll-by-size">
    <sizeThreshold>10240</sizeThreshold>
    <keepFiles>8</keepFiles>
  </log>
  <logpath>%BASE%\logs</logpath>
  
  <!-- 환경 변수 -->
  <env name="JAVA_HOME" value="%JAVA_HOME%"/>
  
  <!-- 서비스 종료 시 대기 시간 (초) -->
  <stoptimeout>15 sec</stoptimeout>
  
  <!-- 서비스 실패 시 재시작 설정 -->
  <onfailure action="restart" delay="10 sec"/>
  <onfailure action="restart" delay="20 sec"/>
  <onfailure action="restart" delay="30 sec"/>
  
  <!-- 서비스 복구 시간 -->
  <resetfailure>1 hour</resetfailure>
</service>

