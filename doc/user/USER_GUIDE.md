# 장보고 사용자 매뉴얼

## 목차
1. [소개](#소개)
2. [시작하기](#시작하기)
3. [쇼핑몰 계정 연결](#쇼핑몰-계정-연결)
4. [구매내역 수집](#구매내역-수집)
5. [구매정보 저장](#구매정보-저장)
6. [자동 수집 설정](#자동-수집-설정)
7. [FAQ](#faq)

---

## 소개

**장보고**는 온라인 쇼핑몰의 구매내역을 자동으로 수집하고 관리하는 프로그램입니다.

### 주요 기능

- 🛒 **다중 쇼핑몰 지원**: SSG, 오아시스, 하나로마트 등
- 📊 **자동 수집**: 설정한 주기마다 자동으로 구매내역 수집
- 💾 **다양한 포맷 지원**: JSON, CSV, Excel 형식으로 저장
- 🔒 **로컬 저장**: 모든 데이터는 사용자 PC에 안전하게 보관
- 🌐 **웹 기반 UI**: 브라우저에서 쉽게 관리

### 지원 쇼핑몰

| 쇼핑몰 | 코드 | 수집 항목 |
|--------|------|-----------|
| SSG(신세계, 이마트, 트레이더스) | `ssg` | 주문번호, 주문일시, 매장명, 상품명, 수량 등 |
| 오아시스 | `oasis` | 주문번호, 주문일시, 매장명, 상품명, 수량 등 |
| 하나로마트 | `hanaro` | 주문번호, 주문일시, 매장명, 상품명, 수량 등 |

---

## 시작하기

### 1. 애플리케이션 실행

#### 바탕화면 또는 폴더에서 실행

**`Jangbogo.bat` 파일을 더블클릭**

#### 명령줄에서 실행

```cmd
cd C:\Jangbogo
Jangbogo.bat
```

### 2. 실행 확인

다음과 같은 메시지가 표시됩니다:

```
========================================
  Jangbogo 구매내역 수집 서비스 시작
========================================

브라우저가 자동으로 열립니다...
접속 주소: http://localhost:8282

종료하려면 Ctrl+C를 누르세요.
========================================
```

### 3. 브라우저 접속

자동으로 브라우저가 열리고 로그인 화면이 표시됩니다.

**접속 주소**: `http://localhost:8282` 또는 `http://127.0.0.1:8282`

### 4. 로그인

**기본 관리자 계정:**
```
아이디: admin_main
비밀번호: admin1234_main
```

⚠️ **보안 권장**: 첫 로그인 후 관리자 계정을 변경하세요.  
자세한 방법은 `사용설명서.txt` 참조

---

## 쇼핑몰 계정 연결

### 1. 쇼핑몰 선택

로그인 후 화면 하단의 **"쇼핑몰 목록"** 섹션에서 연결하려는 쇼핑몰을 찾습니다.

예: **SSG(신세계)**

### 2. 계정연결 버튼 클릭

해당 쇼핑몰의 **[계정연결]** 버튼을 클릭합니다.

### 3. 쇼핑몰 아이디/비밀번호 입력

팝업 창에서:
- **아이디**: 쇼핑몰 회원 아이디 (예: SSG.com 아이디)
- **비밀번호**: 쇼핑몰 회원 비밀번호

**[계정연결]** 버튼 클릭

⚠️ **주의**: 
- 장보고 서비스 계정이 아닌 **쇼핑몰 계정**을 입력하세요
- 입력한 정보는 **암호화**되어 안전하게 저장됩니다

### 4. 연결 확인

- ✅ 연결 성공 메시지 표시
- ✅ 버튼이 **"연결해제"**로 변경됨
- ✅ 이제 해당 쇼핑몰에서 구매내역 수집 가능

### 5. 여러 쇼핑몰 연결

위 과정을 반복하여 모든 쇼핑몰 연결 가능합니다.

---

## 구매내역 수집

### 수동 수집 (즉시 수집)

#### STEP 1: 수집할 쇼핑몰 선택

쇼핑몰 목록에서 원하는 쇼핑몰의 **체크박스** 선택

예:
- ☑ SSG(신세계)
- ☑ OASIS(오아시스)

#### STEP 2: 자동수집 버튼 클릭

**"쇼핑몰 목록"** 우측 상단의 **[자동수집]** 버튼 클릭

#### STEP 3: 즉시 수집 확인

팝업 창에서:
- **확인**: 지금 즉시 수집 시작
- **취소**: 주기적 수집만 활성화

#### STEP 4: 수집 진행

- "수집 중입니다..." 메시지 표시
- 쇼핑몰당 약 10-30초 소요
- 여러 쇼핑몰 선택 시 순차적으로 수집

#### STEP 5: 수집 완료

- "총 N개 쇼핑몰 수집 완료" 메시지 확인
- 수집된 데이터는 데이터베이스에 자동 저장

---

## 구매정보 저장

### 저장 옵션 설정

화면 중간의 **"구매정보 저장 옵션"** 섹션에서 설정:

#### 1. 저장 위치 설정

```
저장 위치: [C:\Jangbogo\exports        ] [↻]
```

- **자동 설정**: 프로그램 실행 시 설치 경로의 절대 경로 자동 표시
  - DB에 저장된 경로가 있으면 그 경로 표시
  - 없으면 `[설치경로]\exports` 표시
  - 예: `C:\Jangbogo\exports`
  - 예: `C:\Program Files\Jangbogo\exports`
- **[↻] 버튼**: 기본 경로로 초기화 (설치 폴더\exports)
- **직접 입력**: 원하는 경로 입력 가능

**경로 예시:**
- `C:\Jangbogo\exports` - 기본 경로 (자동 설정)
- `C:\Users\사용자명\Documents\장보고` - 내문서 폴더
- `D:\백업\장보고_구매내역` - 사용자 지정 경로

**참고:**
- 처음 실행 시 DB에 저장된 경로가 없으므로 설치 경로의 exports가 자동 표시됩니다
- 경로를 변경하면 DB에 저장되어 다음 실행 시에도 유지됩니다
- [↻] 버튼을 누르면 언제든지 기본 경로로 초기화됩니다

#### 2. 저장 포맷 선택

```
저장 포맷: [JSON ▼]
```

선택 가능:
- **JSON**: 프로그램 간 데이터 교환, 완전한 데이터 구조
- **CSV**: 엑셀에서 바로 열기 가능
- **Excel**: 엑셀 파일 형식 (.xlsx)

#### 3. 자동 저장 설정

```
구매내역 수집시 함께 저장: ☐
```

- **☑ 체크**: 구매내역 수집 완료 시 자동으로 파일 저장
- **☐ 해제**: 수동으로만 파일 저장

**자동 저장 장점:**
- 수집할 때마다 최신 데이터 자동 백업
- 별도로 저장 버튼을 누를 필요 없음

### 수동 저장 (지금저장)

#### STEP 1: [지금저장] 버튼 클릭

**"구매정보 저장 옵션"** 섹션 우측의 **[지금저장]** 버튼 클릭

#### STEP 2: 저장 확인

확인 대화상자:
```
구매정보를 파일로 저장하시겠습니까?

저장 위치: ./exports
저장 포맷: JSON
```

**[확인]** 클릭

#### STEP 3: 저장 완료

```
파일 저장이 완료되었습니다.

저장 위치: ./exports/jangbogo_20251104_153045.json
```

### 저장된 파일 확인

**파일 이름 형식:**
```
jangbogo_YYYYMMDD_HHMMSS.확장자
```

**예시:**
- `jangbogo_20251104_153045.json`
- `jangbogo_20251104_153045.csv`
- `jangbogo_20251104_153045.xlsx`

---

## 자동 수집 설정

### 자동 수집 주기 설정

#### STEP 1: 주기 입력

쇼핑몰 목록에서 해당 쇼핑몰의 **"자동 수집 주기(분)"** 입력란에 원하는 주기 입력

**예시:**
- `30` → 30분마다 자동 수집
- `60` → 1시간마다 자동 수집
- `1440` → 24시간(하루)마다 자동 수집
- `0` → 자동 수집 안 함

#### STEP 2: 체크박스 선택

주기 입력 후 우측 **체크박스 선택**

#### STEP 3: 설정 저장

**[자동수집]** 버튼 클릭하여 설정 저장

#### STEP 4: 자동 수집 시작

- 설정된 주기마다 자동으로 수집 시작
- 프로그램이 실행 중일 때만 작동

**참고:**
- 여러 쇼핑몰에 각각 다른 주기 설정 가능
- 24시간 자동 수집을 원하면 프로그램을 계속 실행
- Windows 서비스로 등록하면 백그라운드에서 자동 실행

---

## FAQ

### Q1: 구매내역이 수집되지 않아요

**확인 사항:**
1. 쇼핑몰 계정이 올바르게 연결되었는지 확인
2. 쇼핑몰 웹사이트에서 정상 로그인 가능한지 확인
3. 최근 구매내역이 있는지 확인
4. 로그 파일 확인: `logs\jangbogo.log`

### Q2: 저장된 파일을 찾을 수 없어요

**확인 방법:**
1. "구매정보 저장 옵션"에서 설정된 저장 위치 확인
2. 파일명: `jangbogo_날짜_시간.확장자` 형식으로 검색
3. Windows 탐색기 검색 기능 활용

### Q3: 자동 수집이 작동하지 않아요

**확인 사항:**
1. 자동 수집 주기가 0보다 큰 값으로 설정되었는지
2. 체크박스가 선택되었는지
3. [자동수집] 버튼을 클릭하여 설정 저장했는지
4. 프로그램이 계속 실행 중인지

### Q4: 여러 쇼핑몰을 동시에 수집할 수 있나요?

**답변**: 네, 가능합니다.
- 여러 쇼핑몰의 체크박스를 선택
- [자동수집] 버튼 클릭
- 순차적으로 수집됩니다

### Q5: 과거 구매내역도 수집되나요?

**답변**: 네, 각 쇼핑몰에서 제공하는 범위 내에서 수집됩니다.
- 일반적으로 최근 6개월~1년 데이터 수집 가능
- 쇼핑몰마다 제공 범위가 다를 수 있습니다

### Q6: 저장 포맷은 무엇을 선택해야 하나요?

**용도별 추천:**
- **엑셀로 보려면**: CSV 또는 Excel
- **다른 프로그램과 연동**: JSON
- **백업 목적**: JSON (가장 완전한 데이터)

### Q7: 데이터는 어디에 저장되나요?

**저장 위치:**
1. **데이터베이스**: `db/jangbogo-dev.db` (자동)
2. **파일**: 설정한 저장 위치 (수동/자동)

### Q8: 쇼핑몰 비밀번호를 변경했어요

**해결 방법:**
- 해당 쇼핑몰의 [계정연결] 버튼을 다시 클릭
- 새로운 비밀번호로 재연결

### Q9: 프로그램을 종료하면 자동 수집도 멈추나요?

**답변**: 네, 프로그램이 실행 중일 때만 자동 수집됩니다.
- 24시간 자동 수집 원하면 프로그램을 계속 실행
- Windows 서비스로 등록하면 백그라운드 실행 가능
  (배포 패키지의 `service` 폴더 참조)

### Q10: 저장된 데이터를 삭제하고 싶어요

**방법:**
1. **파일 삭제**: 저장 위치의 파일을 직접 삭제
2. **데이터베이스 초기화**:
   - `db/jangbogo-dev.db` 파일 삭제
   - 프로그램 재시작 시 새로 생성됨

---

## 상세 사용법

배포 패키지에 포함된 다음 파일들을 참조하세요:
- **`사용설명서.txt`** - 설치 및 설정 가이드
- **`설치가이드.txt`** - 상세 설치 방법

다음 내용이 상세히 설명되어 있습니다:
- 서비스 접속 및 로그인
- 쇼핑몰 계정 연결 단계별 가이드
- 구매내역 수집 (수동/자동)
- 구매정보 저장 옵션 설정
- 수집 결과 저장 및 활용
- 자주 묻는 질문 (FAQ)

---

## 일반적인 사용 흐름

### 처음 사용 시

1. `Jangbogo.bat` 실행
2. 브라우저에서 로그인 (`admin_main` / `admin1234_main`)
3. SSG 쇼핑몰 계정 연결
4. 오아시스 쇼핑몰 계정 연결
5. 저장 위치를 내문서로 설정 ([🏠] 버튼)
6. "구매내역 수집시 함께 저장" 체크
7. 모든 쇼핑몰 체크 후 [자동수집] 클릭
8. 수집 완료 후 저장된 파일 확인

### 일상적 사용

1. `Jangbogo.bat` 실행
2. 자동으로 로그인됨 (세션 유지)
3. 원하는 쇼핑몰 선택 후 [자동수집] 클릭
4. 또는 자동 수집 주기 설정 후 자동 수집

### 주기적 백업

1. 매주 또는 매월 [지금저장] 클릭
2. `db/jangbogo-dev.db` 파일 백업
3. `exports` 폴더 백업

---

## 데이터 관리

### 자동 생성 폴더

프로그램 실행 시 다음 폴더가 자동으로 생성됩니다:

| 폴더 | 용도 | 위치 |
|------|------|------|
| `db/` | 데이터베이스 저장 | `db\jangbogo-dev.db` |
| `logs/` | 로그 파일 저장 | `logs\jangbogo.log` |
| `exports/` | 구매내역 파일 저장 | `exports\jangbogo_날짜_시간.확장자` |

### 백업 방법

```cmd
# 데이터베이스 백업
copy db\jangbogo-dev.db backup\jangbogo-dev_%date:~0,4%%date:~5,2%%date:~8,2%.db

# 내보낸 파일 백업
xcopy /E /I exports backup\exports
```

### 데이터 복원

```cmd
# 백업 파일을 원래 위치로 복사
copy backup\jangbogo-dev_20251104.db db\jangbogo-dev.db
```

---

## 보안 및 개인정보

### 데이터 보관

- 모든 데이터는 **로컬 PC**에만 저장
- 외부 서버로 전송되지 않음
- 쇼핑몰 계정 정보는 **암호화**되어 저장

### 관리자 계정 보안

- 기본 계정을 반드시 변경
- 강력한 비밀번호 사용 권장
- 자세한 방법: `사용설명서.txt` 참조

### 접근 제한

- 서버는 **localhost(127.0.0.1)**만 허용
- 외부에서 접근 불가능
- 로그인 필요

---

## 고급 기능

### Windows 서비스 등록

OS 시작 시 자동 실행:

```cmd
cd C:\Jangbogo\service
jangbogo-service.exe install
jangbogo-service.exe start
```

자세한 내용: `service\README.md` 참조

### 로그 모니터링

실시간 로그 확인:

```cmd
# PowerShell
Get-Content logs\jangbogo.log -Wait -Tail 20

# CMD
tail -f logs\jangbogo.log
```

---

## 추가 지원

### 로그 파일 위치

- **애플리케이션 로그**: `logs\jangbogo.log`
- **오류 로그**: `logs\jangbogo-error.log`

### 설정 파일 위치

- **관리자 계정**: `config\admin.properties` (생성 시)
- **Spring Boot**: `application.yml` (JAR 내장)

### 문의

문제가 해결되지 않으면 다음 정보를 포함하여 문의:

1. 로그 파일 내용 (`logs\jangbogo.log`)
2. 에러 메시지 스크린샷
3. Windows 버전 및 시스템 사양
4. 설치 경로 및 실행 명령

---

**버전**: 0.5.0  
**최종 수정일**: 2025-11-07  
**라이선스**: AGPL-3.0-or-later
